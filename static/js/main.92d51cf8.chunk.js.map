{"version":3,"sources":["components/SearchBar/SearchBar.js","actions/index.js","components/DateSelector/DateSelector.js","apis/quandl.js","components/Chart/Chart.js","components/App.js","reducers/index.js","index.js"],"names":["SearchBar","state","term","key","onFormSubmit","event","preventDefault","_this","props","ticker","selectTicker","_this2","this","react_default","a","createElement","className","onSubmit","type","value","onChange","e","setState","target","React","Component","connect","selectedTicker","payload","selectKey","DateSelector","entry_default","date","selectDate","startDate","endDate","dateType","axios","create","baseURL","Chart","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getTickerData","_ref","asyncToGenerator","regenerator_default","mark","_callee","previousTicker","previousStart","previousEnd","previousWidth","previousHeight","start","end","width","height","response","wrap","_context","prev","next","api_key","qopts.columns","quandl","get","params","sent","data","renderChart","stop","_x","_x2","_x3","_x4","_x5","_x6","_x7","_x8","_x9","_x10","apply","arguments","choice","margin","parseTime","d3","x","range","y","valueline","d","select","remove","svg","append","attr","datatable","map","domain","window","innerWidth","innerHeight","updateWindowDimensions","bind","assertThisInitialized","addEventListener","debounce","text","App","components_SearchBar_SearchBar","components_DateSelector_DateSelector","components_Chart_Chart","id","combineReducers","length","undefined","action","selectedKey","selectedDate","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.92d51cf8.chunk.js","sourcesContent":["import './SearchBar.css'\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {selectTicker, selectKey} from '../../actions';\r\n\r\nclass SearchBar extends React.Component {\r\n    state = { term: '', key: '' };\r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(this.props.ticker !== this.state.term) {\r\n            this.props.selectTicker(this.state.term);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Bar\">\r\n                <div className=\"SearchBar\">\r\n                    <form onSubmit={this.onFormSubmit}>\r\n                        <h3>Search Ticker Symbol</h3>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={this.state.term} \r\n                            onChange={ e => this.setState({term: e.target.value})}\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {ticker: state.selectedTicker};\r\n}\r\n\r\nexport default connect(mapStateToProps, {selectTicker, selectKey})(SearchBar);","\r\n\r\nexport const selectTicker = (ticker) => {\r\n    return {\r\n        type: 'TICKER_SELECTED',\r\n        payload: ticker\r\n    };\r\n};\r\n\r\nexport const selectKey= (key) => {\r\n    return {\r\n        type: 'KEY_SELECTED',\r\n        payload: key\r\n    };\r\n};\r\nexport const selectDate = (date, dateType) => {\r\n    return {\r\n        type: dateType,\r\n        payload: date\r\n    };\r\n};\r\n\r\n","import './DateSelector.css';\r\nimport React from 'react';\r\nimport DatePicker from 'react-date-picker';\r\nimport {connect} from 'react-redux';\r\nimport {selectDate} from '../../actions';\r\n\r\nclass DateSelector  extends React.Component {\r\n    render() {\r\n        return(\r\n            <div className=\"DateSelector\">\r\n                <div className=\"startDate\">\r\n                        <h3>Start Date</h3>\r\n                        <DatePicker\r\n                             onChange={date => this.props.selectDate(date, 'STARTDATE_SELECTED')}\r\n                            value={this.props.startDate}\r\n                        />\r\n                </div>\r\n                <div className=\"endDate\">\r\n                        <h3>End Date</h3>\r\n                        <DatePicker\r\n                             onChange={date => this.props.selectDate(date, 'ENDDATE_SELECTED')}\r\n                            value={this.props.endDate}\r\n                        />\r\n                </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { startDate: state.startDate, endDate: state.endDate }\r\n};\r\n\r\nexport default connect(mapStateToProps, {selectDate})(DateSelector);","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://cors-anywhere.herokuapp.com/https://www.quandl.com/api/v3/datatables/WIKI/'\r\n})","import './Chart.css';\r\nimport React from 'react';\r\nimport * as d3 from 'd3';\r\nimport {debounce} from 'debounce';\r\nimport quandl from '../../apis/quandl';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\n\r\nclass Chart extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {previousTicker: this.props.ticker, previousStart: this.props.start, previousEnd: this.props.end, data: [], width: window.innerWidth, height: window.innerHeight, previousWidth: window.innerWidth, previousHeight: window.innerHeight};\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n      }\r\n\r\n    componentDidMount() {\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', debounce(this.updateWindowDimensions, 1000));\r\n    }\r\n    \r\n    updateWindowDimensions() {\r\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\r\n    }\r\n    \r\n    render() {\r\n        this.getTickerData(this.state.previousTicker,this.state.previousStart, this.state.previousEnd, this.state.previousWidth, this.state.previousHeight, this.props.ticker, this.props.start, this.props.end, this.state.width, this.state.height);\r\n        let text = (this.props.ticker) ? \"Closing Prices for: \" + this.props.ticker : \"Enter a ticker and api key to start\";\r\n        return (\r\n            <h1>{text}</h1>\r\n        )\r\n\r\n    }\r\n\r\n    getTickerData = async (previousTicker, previousStart, previousEnd, previousWidth, previousHeight, ticker, start, end, width, height) => {\r\n        if(ticker && ((ticker !== previousTicker) || (start !== previousStart) || (end !== previousEnd) || (previousWidth !== width) || (previousHeight !== height))) {\r\n            const props = {\"ticker\": ticker, \"api_key\": \"jpSK4_2GpyEo2xcMRxhv\", \"qopts.columns\":\"date,close,volume\"};\r\n            if(start) props[\"date.gte\"] = start;\r\n            if(end) props[\"date.lte\"] = end;\r\n            const response = await quandl.get('/PRICES.json', {params: props});\r\n            this.setState({data: response.data, previousTicker: this.props.ticker, previousStart: this.props.start, previousEnd: this.props.end, previousWidth: width, previousHeight: height})\r\n            this.renderChart('close');\r\n            this.renderChart('volume');\r\n        }\r\n    }\r\n\r\n    renderChart = (choice) => {\r\n        let type = (choice === 'close') ? 1 : 2;\r\n        var margin = {top: 100, right: 100, bottom: 100, left: 100};\r\n        let height = this.state.height / 2;\r\n        let width = this.state.width *.8;\r\n        let parseTime = d3.timeParse(\"%Y-%m-%d\");\r\n        let x = d3.scaleTime().range([0, width]);\r\n        let y = d3.scaleLinear().range([height, 0]);\r\n        var valueline = d3.line()\r\n                            .x(function(d) { return x(d[0]); })\r\n                            .y(function(d) { return y(d[1]); });\r\n        d3.select(\"#svg\").select(\"svg\").remove();\r\n        var svg = d3.select(\"#svg\").append(\"svg\")\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n        .attr(\"transform\",\r\n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n        let data = this.state.data.datatable.data.map( (x) => {\r\n            return [parseTime(x[0]), x[type]]\r\n        });\r\n        // Scale the range of the data\r\n        x.domain(d3.extent(data, function(d) { return d[0]; }));\r\n        y.domain([0, d3.max(data, function(d) { return d[1]; })]);\r\n\r\n        // Add the valueline path.\r\n        svg.append(\"path\")\r\n            .data([data])\r\n            .attr(\"class\", \"line\")\r\n            .attr(\"d\", valueline);\r\n\r\n        // Add the X Axis\r\n        svg.append(\"g\")\r\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n            .call(d3.axisBottom(x));\r\n\r\n        // Add the Y Axis\r\n        svg.append(\"g\")\r\n            .call(d3.axisLeft(y));\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {ticker: state.selectedTicker, start: state.startDate, end: state.endDate}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Chart);","import React from 'react';\r\nimport SearchBar from './SearchBar/SearchBar';\r\nimport DateSelector from './DateSelector/DateSelector';\r\nimport Chart from './Chart/Chart';\r\nconst App = () => {\r\n    return (\r\n        <div className=\"app\">\r\n            <SearchBar />\r\n            <DateSelector />\r\n            <Chart />\r\n            <div id=\"svg\"></div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import {combineReducers} from 'redux';\r\n\r\nconst selectedTickerReducer = (selectedTicker = '', action) => {\r\n    switch(action.type) {\r\n        case 'TICKER_SELECTED': \r\n            return action.payload;\r\n        default:\r\n            return selectedTicker;\r\n    }\r\n}\r\n\r\nconst selectedKeyReducer = (selectedKey = '', action) => {\r\n    switch(action.type) {\r\n        case 'KEY_SELECTED': \r\n            return action.payload;\r\n        default:\r\n            return selectedKey;\r\n    }\r\n}\r\n\r\nconst selectedStartDateReducer = (selectedDate = null, action) => {\r\n    switch(action.type) {\r\n        case 'STARTDATE_SELECTED':\r\n            return action.payload;\r\n        default:\r\n            return selectedDate;\r\n    }\r\n}\r\n\r\nconst selectedEndDateReducer = (selectedDate = null, action) => {\r\n    switch(action.type) {\r\n        case 'ENDDATE_SELECTED':\r\n            return action.payload;\r\n        default:\r\n            return selectedDate;\r\n    }\r\n}\r\n\r\nexport default combineReducers({\r\n    selectedTicker: selectedTickerReducer,\r\n    selectedKey: selectedKeyReducer,\r\n    startDate: selectedStartDateReducer,\r\n    endDate: selectedEndDateReducer\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);\r\n\r\n"],"sourceRoot":""}